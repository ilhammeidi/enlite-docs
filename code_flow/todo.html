<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link rel="icon" href="../favicon.ico" type="image/x-icon">
  <title>Enlite Prime - Auth Documentation</title>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">

  <!-- Bootstrap Core CSS -->
  <link href="../css/bootstrap.css" rel="stylesheet">

  <!-- Syntax Hightlighter CSS -->
  <link href="../css/prism.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="../css/style.css" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
  <div id="wrapper" class="toggled">
    <!-- Sidebar -->
    <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
        <li class="sidebar-brand">
          <a href="#" class="logo">
                        <img src="../images/logo.png" alt="logo" />
                    </a>
        </li>
        <li class="sidebar-brand">
          <h4>To Do App</h4>
        </li>
        <li>
          <a href="#diagram" class="cur">To Do Diagram</a>
        </li>
        <li>
          <a href="#read" class="cur">Read/Fetch</a>
        </li>
        <li>
          <a href="#create">Create</a>
        </li>
        <li>
          <a href="#update">Update</a>
        </li>
        <li>
          <a href="#delete">Delete</a>
        </li>
      </ul>
      <a class="back" href="../index.html"><i class="glyphicon glyphicon-arrow-left"></i> Back to Main Docs</a>
      <span class="copy">&copy; Copyright 2019 - Enlite Prime</span>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- main content -->
    <div id="page-content-wrapper">
      <div class="container-fluid">
        <!-- DIAGRAM -->
        <section class="row" id="diagram">
          <br /><br />
          <div class="col-lg-10">
            <h1>To Do Diagram</h1>
            <hr />
            <iframe frameborder="0" style="width:100%;height:680px;" src="../diagram/auth_Structure.html"></iframe>
          </div>
        </section>
        <!-- END -->
        <!-- REGISTER -->
        <section class="row" id="read">
          <br /><br />
          <div class="col-lg-10">
            <h1>Read / Fetch</h1>
            <hr />
            <br />
            <h4>Constant</h4>
            <ul>
              <li>File: <code>app\containers\SampleFullstackApps\Todo\reducers\todoConstants.js</code></li>
              <li>
                Define constant:
                <pre>
                          <code class="language-js">
export const LOAD_TASK = 'LOAD_TASK';
export const LOAD_TASKS_FULFILLED = 'LOAD_TASKS_FULFILLED';
                          </code>
                        </pre>
              </li>
            </ul>
            <br />
            <h4>Actions</h4>
            <ul>
              <li>File: <code>app\containers\SampleFullstackApps\Todo\reducers\todoActions.js</code></li>
              <li>
                Put each constant in actions
                <pre>
                          <code class="language-js">
export const loadTasksFulfilled = tasks => ({
  type: types.LOAD_TASKS_FULFILLED,
  payload: { tasks }
});
                          </code>
                        </pre>
              </li>
            </ul>
            <br />
            <h4>Saga</h4>
            <ul>
              <li>File: <code>app\containers\SampleFullstackApps\Todo\reducers\todoSagas.js</code></li>
              <li>
                Call load task action in saga's function
                <pre>
                          <code class="language-js">
function* read() {
  const channel = yield call(subscribe);
  while (true) {
    const action = yield take(channel);
    yield put(action);
  }
}

function* watchLoadTask() {
  while (true) {
    taskList.path = 'tasks/';
    const job = yield fork(read);

    yield take([LOAD_TASK]);
    yield cancel(job);
  }
}
                          </code>
                        </pre>
              </li>
              <li>
                Subscribe from <strong>models</strong>
                <pre>
                          <code class="language-js">
import TodoModels from '../models';
import Init from '../models/init';

import {
  loadTasksFulfilled,
} from './todoActions';

function subscribe() {
  return eventChannel(emit => taskList.subscribe(emit));
}

const taskList = new TodoModels({
  onLoad: loadTasksFulfilled,
}, Init);
                          </code>
                        </pre>
              </li>
            </ul>
            <br />
            <h4>Reducer</h4>
            <ul>
              <li>File: <code>app\containers\SampleFullstackApps\Todo\reducers\todoReducer.js</code></li>
              <li>
                Put all payload once action with constant <strong>LOAD_TASKS_FULFILLED</strong> in reducer state. So the font-end part (React components) can get the state to modify ui or contents.
                                <pre>
                          <code class="language-js">
case LOAD_TASKS_FULFILLED:
  return state.merge({
    list: new List(payload.tasks.reverse()),
    loading: false,
  });
                          </code>
                        </pre>
              </li>
            </ul>
            <br />
            <h4>Container</h4>
            <ul>
              <li>File: <code>app/containers/SampleFullstackApps/Todo/index.js</code></li>
              <li>
                Load state data to container as prop
                <pre>
                          <code class="language-js">
import { getVisibleTasks } from './reducers/selectors';

const { task } = this.props;

return (
  &lt;TaskList
    loading={loading}
    removeTask={removeTask}
    tasks={tasks}
    updateTask={updateTask}
  /&gt;
)
            
const mapStateToProps = state => ({
  tasks: getVisibleTasks(state.get(reducerTodo)),
});

                          </code>
                        </pre>
              </li>
            </ul>
            <br />
            <h4>Components</h4>
            <ul>
              <li>File: <code>app/components/TodoList/TaskList.js</code></li>
              <li>
                Populate <strong>tasks</strong> prop data to component
                <pre>
                          <code class="language-js">
const taskItems = tasks.map((task, index) => (
  &lt;TaskItem
    removeTask={removeTask}
    key={index.toString()}
    task={task}
    updateTask={updateTask}
  /&gt;
));
                          </code>
                        </pre>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
    <br /><br />
  </div>
  <!-- /#wrapper -->

  <!-- jQuery -->
  <script src="../js/jquery.js"></script>

  <!-- Syntax Highligher -->
  <script src="../js/prism.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="../js/bootstrap.bundle.js"></script>

  <!-- Jquery scrollTo -->
  <script src="../js/jquery.nav.js"></script>

  <!-- Menu Toggle Script -->
  <script>
    $(document).ready(function() {
      $('#sidebar-wrapper .sidebar-nav').onePageNav();
    });
  </script>

</body>

</html>